{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","servises/pixabayService.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Button/Button.js","helpers/Scroll.js","img/sadDog.jpg","components/ImageErr/ImageErr.js","App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","MY_API_KEY","getPictures","query","a","page","axios","get","hits","data","defaults","baseURL","Searchbar","state","images","searchQuery","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","this","className","s","SearchForm","type","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","autoComplete","onChange","autoFocus","placeholder","Component","ImageGalleryItem","image","openModal","onClick","src","webformatURL","alt","tag","ImageGalleryItem__image","ImageGallery","onOpenModal","map","id","Loader","LoaderContainer","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeydown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","Button","onScroll","scrollTo","top","documentElement","scrollHeight","behavior","NoFoundImage","role","sadDog","App","loading","showModal","searchImage","then","prevState","handleSearchSubmit","toggleModal","onClickLargeImage","largeImage","handleLoadMoreClick","Scroll","catch","err","console","log","finally","prevProps","length","largeImageURL","newestOnTop","rtl","pauseOnFocusLoss","PureComponent","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6b3ee90f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3LZnW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1pXaq\",\"Modal\":\"Modal_Modal__3FdOI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1WzfL\",\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__368Ai\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoaderContainer\":\"Loader_LoaderContainer__3aGOQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1Ji4Q\"};","import axios from 'axios';\n\nconst MY_API_KEY = '23083473-2d7790ee8b7206f8dabf03b90';\naxios.defaults.baseURL =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\n\nexport async function getPictures(query, page = 1) {\n  const {\n    data: { hits },\n  } = await axios.get(`&q=${query}&page=${page}&per_page=12&key=${MY_API_KEY}`);\n\n  return hits;\n}\n","import { Component } from 'react';\nimport s from './Searchbar.module.css';\nimport { toast } from 'react-toastify';\n\nimport PropTypes from 'prop-types';\nclass Searchbar extends Component {\n  state = {\n    images: [],\n    searchQuery: '',\n  };\n\n  handleChange = e => {\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.searchQuery.trim() === '') {\n      toast.error('Search images and photos', {\n        position: 'top-center',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      return;\n    }\n    if (this.state.searchQuery === 'error') {\n      toast.error('No match...', {\n        position: 'top-center',\n        autoClose: 3000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n\n    return (\n      <>\n        <header className={s.Searchbar}>\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n            <button type=\"submit\" className={s.SearchForm__button}>\n              <span className={s.SearchForm__buttonLabel}>Search</span>\n            </button>\n\n            <input\n              className={s.SearchForm__input}\n              type=\"text\"\n              autoComplete=\"off\"\n              value={searchQuery}\n              onChange={this.handleChange}\n              autoFocus\n              placeholder=\"Search images and photos\"\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  searchQuery: PropTypes.string,\n};\n\nexport default Searchbar;\n","import s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ image, openModal }) => {\n  return (\n    <>\n      <img\n        onClick={() => {\n          openModal(image);\n        }}\n        src={image.webformatURL}\n        alt={image.tag}\n        className={s.ImageGalleryItem__image}\n      />\n    </>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object,\n  openModal: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nfunction ImageGallery({ images = [], onOpenModal }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => (\n        <li className={s.ImageGalleryItem} key={image.id}>\n          <ImageGalleryItem image={image} openModal={onOpenModal} />\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape),\n  onOpenModal: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Component from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={s.LoaderContainer}>\n      <Component\n        type=\"Bars\"\n        color=\"#8a2be2\"\n        height={80}\n        width={80}\n        timeout={100}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","import { Component } from 'react';\nimport s from './Modal.module.css';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  children: PropTypes.node.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div>\n      <button type=\"button\" onClick={onClick} className={s.Button}>\n        Load More...\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","const onScroll = () => {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n};\n\nexport default onScroll;\n","export default __webpack_public_path__ + \"static/media/sadDog.68efb00d.jpg\";","import sadDog from '../../img/sadDog.jpg';\n\nconst NoFoundImage = () => {\n  return (\n    <div role=\"alert\">\n      <img src={sadDog} width=\"400\" alt=\"sadDog\" />\n      <p>No match...</p>\n    </div>\n  );\n};\n\nexport default NoFoundImage;\n","import { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { PureComponent } from 'react';\nimport { getPictures } from '../servises/pixabayService';\nimport Searchbar from '../components/Searchbar/Searchbar';\nimport ImageGallery from '../components/ImageGallery/ImageGallery';\nimport Loader from '../components/Loader/Loader';\nimport Modal from '../components/Modal/Modal';\nimport Button from '../components/Button/Button';\nimport Scroll from '../helpers/Scroll';\nimport NoFoundImage from '../components/ImageErr/ImageErr';\nimport './App.css';\n\nclass App extends PureComponent {\n  state = {\n    page: 1,\n    images: [],\n    searchQuery: '',\n    loading: false,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery } = this.state;\n    if (searchQuery !== prevState.searchQuery) {\n      this.searchImage()\n        .catch(err => console.log(err))\n        .finally(() => this.setState({ loading: false }));\n    }\n  }\n  searchImage = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n\n    return getPictures(searchQuery, page).then(images => {\n      this.setState(prevState => ({\n        images: [...prevState.images, ...images],\n        page: prevState.page + 1,\n      }));\n    });\n  };\n\n  handleSearchSubmit = searchQuery => {\n    this.setState({ searchQuery, page: 1, images: [] });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onClickLargeImage = largeImage => {\n    this.setState({ largeImage });\n    this.toggleModal();\n  };\n\n  handleLoadMoreClick = () => {\n    this.setState({ loading: true });\n    this.searchImage()\n      .then(() => {\n        Scroll();\n      })\n      .catch(err => console.log(err))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  render() {\n    const { images, largeImage, showModal, loading, searchQuery } = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleSearchSubmit} />\n\n        {loading && <Loader />}\n        {images.length !== 0 ? (\n          <ImageGallery images={images} onOpenModal={this.onClickLargeImage} />\n        ) : (\n          searchQuery !== '' && <NoFoundImage />\n        )}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img\n              src={largeImage.largeImageURL}\n              alt={largeImage.tag}\n              id={largeImage.id}\n            />\n            <button type=\"button\" onClick={this.toggleModal}>\n              Close\n            </button>\n          </Modal>\n        )}\n        {!loading && images[0] && <Button onClick={this.handleLoadMoreClick} />}\n        <ToastContainer\n          autoClose={3000}\n          position=\"top-center\"\n          hideProgressBar\n          newestOnTop={true}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3FYA2\",\"SearchForm\":\"Searchbar_SearchForm__3_I-J\",\"SearchForm__button\":\"Searchbar_SearchForm__button__2WFB4\",\"SearchForm__buttonLabel\":\"Searchbar_SearchForm__buttonLabel__1EfQb\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1T1oz\"};"],"sourceRoot":""}