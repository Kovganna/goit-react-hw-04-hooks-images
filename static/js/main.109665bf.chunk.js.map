{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","servises/pixabayService.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Button/Button.js","helpers/Scroll.js","img/sadDog.jpg","components/ImageErr/ImageErr.js","App/App.js","index.js"],"names":["module","exports","MY_API_KEY","getPictures","query","a","page","axios","get","hits","data","defaults","baseURL","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","s","SearchForm","e","preventDefault","trim","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","type","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","autoComplete","value","onChange","currentTarget","toLowerCase","autoFocus","placeholder","ImageGalleryItem","image","openModal","onClick","src","webformatURL","alt","tag","ImageGalleryItem__image","ImageGallery","images","onOpenModal","map","id","Loader","LoaderContainer","color","height","width","timeout","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","code","createPortal","Overlay","target","Button","onScroll","scrollTo","top","documentElement","scrollHeight","behavior","NoFoundImage","role","sadDog","App","setPage","setImages","loading","setLoading","showModal","setShowModal","largeImage","setLargeImage","searchImages","prevImage","Scroll","console","log","message","toggleModal","length","largeImageURL","prevPage","newestOnTop","rtl","pauseOnFocusLoss","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.109665bf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3LZnW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1pXaq\",\"Modal\":\"Modal_Modal__3FdOI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1WzfL\",\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__368Ai\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoaderContainer\":\"Loader_LoaderContainer__3aGOQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1Ji4Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3FYA2\",\"SearchForm\":\"Searchbar_SearchForm__3_I-J\",\"SearchForm__button\":\"Searchbar_SearchForm__button__2WFB4\",\"SearchForm__buttonLabel\":\"Searchbar_SearchForm__buttonLabel__1EfQb\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1T1oz\"};","import axios from 'axios';\n\nconst MY_API_KEY = '23083473-2d7790ee8b7206f8dabf03b90';\naxios.defaults.baseURL =\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\n\nexport async function getPictures(query, page = 1) {\n  const {\n    data: { hits },\n  } = await axios.get(`&q=${query}&page=${page}&per_page=12&key=${MY_API_KEY}`);\n\n  return hits;\n}\n","import { useState } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  //   const [image, setImage] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  const handleChange = e => {\r\n    setSearchQuery(e.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (searchQuery.trim() === '') {\r\n      toast.error('Search images and photos', {\r\n        position: 'top-center',\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n    if (searchQuery === 'error') {\r\n      toast.error('No match...', {\r\n        position: 'top-center',\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n\r\n    onSubmit(searchQuery);\r\n    setSearchQuery('');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm__button}>\r\n            <span className={s.SearchForm__buttonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            value={searchQuery}\r\n            onChange={handleChange}\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    </>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  searchQuery: PropTypes.string,\r\n};\r\n","import s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ image, openModal }) => {\n  return (\n    <>\n      <img\n        onClick={() => {\n          openModal(image);\n        }}\n        src={image.webformatURL}\n        alt={image.tag}\n        className={s.ImageGalleryItem__image}\n      />\n    </>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object,\n  openModal: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nfunction ImageGallery({ images = [], onOpenModal }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => (\n        <li className={s.ImageGalleryItem} key={image.id}>\n          <ImageGalleryItem image={image} openModal={onOpenModal} />\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape),\n  onOpenModal: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Component from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={s.LoaderContainer}>\n      <Component\n        type=\"Bars\"\n        color=\"#8a2be2\"\n        height={80}\n        width={80}\n        timeout={100}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","import { useEffect } from 'react';\r\nimport s from './Modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onClose, children }) {\r\n  useEffect(() => {\r\n    const handleKeydown = e => {\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleKeydown);\r\n  }, [onClose]);\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={handleBackdropClick}>\r\n      <div className={s.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","import s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div>\n      <button type=\"button\" onClick={onClick} className={s.Button}>\n        Load More...\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","const onScroll = () => {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n};\n\nexport default onScroll;\n","export default __webpack_public_path__ + \"static/media/sadDog.68efb00d.jpg\";","import sadDog from '../../img/sadDog.jpg';\n\nconst NoFoundImage = () => {\n  return (\n    <div role=\"alert\">\n      <img src={sadDog} width=\"400\" alt=\"sadDog\" />\n      <p>No match...</p>\n    </div>\n  );\n};\n\nexport default NoFoundImage;\n","import { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useState, useEffect } from 'react';\r\nimport { getPictures } from '../servises/pixabayService';\r\nimport Searchbar from '../components/Searchbar/Searchbar';\r\nimport ImageGallery from '../components/ImageGallery/ImageGallery';\r\nimport Loader from '../components/Loader/Loader';\r\nimport Modal from '../components/Modal/Modal';\r\nimport Button from '../components/Button/Button';\r\nimport Scroll from '../helpers/Scroll';\r\nimport NoFoundImage from '../components/ImageErr/ImageErr';\r\nimport './App.css';\r\n\r\nexport default function App() {\r\n  const [page, setPage] = useState(1);\r\n  const [images, setImages] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [largeImage, setLargeImage] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (!searchQuery) return;\r\n    setLoading(true);\r\n\r\n    const searchImages = async () => {\r\n      try {\r\n        const images = await getPictures(searchQuery, page);\r\n        setImages(prevImage => [...prevImage, ...images]);\r\n        if (page !== 1) {\r\n          Scroll();\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    searchImages();\r\n  }, [searchQuery, page]);\r\n\r\n  const handleSearchSubmit = searchQuery => {\r\n    setSearchQuery(searchQuery);\r\n    setPage(1);\r\n    setImages([]);\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n\r\n  const onClickLargeImage = largeImage => {\r\n    setLargeImage(largeImage);\r\n    toggleModal();\r\n  };\r\n\r\n  const handleLoadMoreClick = () => {\r\n    setLoading(true);\r\n    setPage(prevPage => prevPage + 1);\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Searchbar onSubmit={handleSearchSubmit} />\r\n\r\n      {loading && <Loader />}\r\n      {images.length !== 0 ? (\r\n        <ImageGallery images={images} onOpenModal={onClickLargeImage} />\r\n      ) : (\r\n        searchQuery !== '' && <NoFoundImage />\r\n      )}\r\n\r\n      {showModal && (\r\n        <Modal onClose={toggleModal}>\r\n          <img\r\n            src={largeImage.largeImageURL}\r\n            alt={largeImage.tag}\r\n            id={largeImage.id}\r\n          />\r\n          <button type=\"button\" onClick={toggleModal}>\r\n            Close\r\n          </button>\r\n        </Modal>\r\n      )}\r\n      {!loading && images[0] && <Button onClick={handleLoadMoreClick} />}\r\n      <ToastContainer\r\n        autoClose={3000}\r\n        position=\"top-center\"\r\n        hideProgressBar\r\n        newestOnTop={true}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}